
<!DOCTYPE html>
<html>
    <head>
        <title>A Short WebAssembly Tutorial</title>
        <link rel="stylesheet" href="Style/style.css">
    </head>
    <body>
        <h1>An AssemblyScript Tutorial</h1>

    <div >
        <p>This AssemblyScript tutorial will take you through the following key steps:
            <ol>
                <li><a href="#nodejs">Installing and Setting Up Node.js</a></li>
                <li><a href="#assemblyscript">Getting AssemblyScript Working</a></li>
                <li><a href="#application">Creating a simple application using the software you've installed</a></li>
            </ol>
        </p>

        <h2 id="nodejs">Installing and Setting Up Node.js</h2>
        <ol>
            <li>If you haven't installed Node.js, go to <a href="https://nodejs.org/en/" target="_blank">nodejs.org</a> and download the setup wizard.</li>
            <li>Open Node.js command prompt</li>
            <li>Navigate to the folder where you plan on working 
                <blockquote>
                    <code> <span class="cmdprompt">C:\Users\andrea&gt; </span> cd Documents</code>
                </blockquote>
            </li>
            <li>Create a new directory for your application and initialize npm: 
                <blockquote>
                    <code><span class="cmdprompt">C:\Users\andrea\Documents&gt; </span>  mkdir assemblyscript-app</code></br>
                    <code><span class="cmdprompt">C:\Users\andrea\Documents&gt; </span> cd assemblyscript-app</code></br>
                    <code><span class="cmdprompt">C:\Users\andrea\Documents\assemblyscript-app&gt; </span>npm init</code>
                </blockquote>
            </li>
            <li>Press enter in response to all of the prompts</li>
        </ol>

        <h2 id="assemblyscript">Getting AssemblyScript Working</h2>
        <ol>
            <li>AssemblyScript is like any other npm package. This means that any dependencies that you need to install can be done using <code>npm install</code>.
            <blockquote>
                <code><span class="cmdprompt">C:\Users\andrea\Documents\assemblyscript-app&gt; </span>npm install --save @assemblyscript/loader</code>
            </blockquote>
            </li>
            <li>If you look at package.json (either by opening it in a text editor, or running <code>more package.json</code> in the node.js terminal), you should see something like this:
                <blockquote class="codefile"><code>
                    {<br/>
                        &nbsp;&nbsp;&nbsp;&nbsp;"name": "assemblyscript-app",<br/>
                        &nbsp;&nbsp;&nbsp;&nbsp;"version": "1.0.0",<br/>
                        &nbsp;&nbsp;&nbsp;&nbsp;"description": "",<br/>
                        &nbsp;&nbsp;&nbsp;&nbsp;"main": "index.js",<br/>
                        &nbsp;&nbsp;&nbsp;&nbsp;"scripts": {<br/>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"test": "echo \"Error: no test specified\" && exit 1"<br/>
                        &nbsp;&nbsp;&nbsp;&nbsp;},<br/>
                        &nbsp;&nbsp;&nbsp;&nbsp;"author": "",<br/>
                        &nbsp;&nbsp;&nbsp;&nbsp;"license": "ISC",<br/>
                        &nbsp;&nbsp;&nbsp;&nbsp;"dependencies": {<br/>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"@assemblyscript/loader": "^0.21.3"<br/>
                        &nbsp;&nbsp;&nbsp;&nbsp;}<br/>
                    }
                </code></blockquote>
            </li>
            <li> Next, we install AssemblyScript itself:
                <blockquote>
                    <code><span class="cmdprompt">C:\Users\andrea\Documents\assemblyscript-app&gt; </span>npm install --save-dev assemblyscript</code>
                </blockquote>
            </li>
            <li>The AssemblyScript compiler provides a handy scaffolding utility to quickly set up a new project in the current directory:
                <blockquote>
                    <code><span class="cmdprompt">C:\Users\andrea\Documents\assemblyscript-app&gt; </span>npx asinit .</code>
                </blockquote>
            </li>
            <li>This will create several directories and files. At this point (if you haven't yet) you should open the assemblyscript-app folder 
                in a text editor of your choice. Make sure you see a folder called <span class="rose">assembly</span> and open it. Within it, you should see 
                <span class="rose">index.ts</span>, which is where we'll be writing our code!
            </li>
            
        </ol>

        <h2 id="application">Creating a simple application using the software you've installed</h2>
        <h4><i>/* <br/>
            * If your text editor has some form of built-in TypeScript checking <span style="color: #eee; text-decoration: underline;">tsconfig.json</span>, <br/>
            * which is also in the assembly folder, will look like it has errors. You can ignore them.<br/>
            */</i>
        </h4>
        <ol>
            <li><span class="rose">index.ts</span> starts with a simple addition function:
                <blockquote class="codefile">
                    <code>
                        <span class="rose">export function</span> add 
                        <span class="pear">(</span><span class="blush">a</span><span class="white">:</span> <span class="neonblue">i32</span><span class="white">,</span>
                        <span class="blush">b</span><span class="white">:</span> <span class="neonblue">i32</span><span class="pear">)</span><span class="white">:</span> <span class="neonblue">i32</span>
                        <span class="pear">{</span> <br/>
                         &nbsp;&nbsp;&nbsp;&nbsp; <span class="rose">return</span> <span class="blush">a</span> <span class="neonblue">+</span> <span class="blush">b</span><span class="white">;</span> <br/>
                         <span class="pear">}</span>
                    </code>
                </blockquote>
                It's made to add two numbers, and if you want to test it (just to generally see how AssemblyScript works), you can do that by running these commands in the Node.js command prompt:

                <blockquote>
                    <code>
                        <span class="cmdprompt">C:\Users\andrea\Documents\assemblyscript-app&gt; </span>npm run asbuild <span style="color: #ddd;"><i>//this compiles the code in index.ts to WebAssembly</i></span><br/> 
                        <span class="cmdprompt">C:\Users\andrea\Documents\assemblyscript-app&gt; </span>npm test <span style="color: #ddd;"><i>//this executes the test case in tests/index.js</i></span><br/>
                        <span class="cmdprompt">C:\Users\andrea\Documents\assemblyscript-app&gt; </span>npm start <span style="color: #ddd;"><i>//this starts a web server, which will serve index.html</i></span>
                    </code>
                </blockquote>

                Node.js will copy the address of the webpage where index.html is being served to your keyboard. If you paste it into a browser, 
                it should be displaying a number on the page— the sum of the two numbers given as input in <span class="rose">tests/index.js</span>. To play around with it, 
                try change the numbers and run these commands again.<br/>

                To stop the web server, use <span class="rose"> CTRL + C</span> twice.
            </li>
            <li>
                Now we're going use AssemblyScript to create a word game called Mojpal. You can start by removing the <code>add()</code> function from <span class="rose">assembly/index.ts</span>.
            </li>
            <li>The premise of Mojpal is fairly simple: 
                <h4 style ="text-align: center; text-decoration: underline;"><span class="blush">How many five-letter words can a player come up with without resuing the placement of the letters?</span></h4>
                And we're going to create it in <span class="rose">index.html</span> and <span class="rose">assembly/index.ts</span>
            </li>
            <li>mojpal is based on three key functions:
                <ul>
                    <li><a href="#isWord">Function #1</a>: <code>isWord(guess)</code>, which takes a string and returns <code>true</code> or <code>false</code> based on whether the string matches any of the strings in a dictionary array</li>
                    <li>Function #2: <code>letterUsed(guess)</code>, which checks each letter of the string against an array of the characters previously used at that position, and returns <code>true</code> if it finds a match and <code>false</code> if the letter placement is unique</li>
                    <li>Function #3: <code>check(word)</code>, which runs the other functions and returns a string result</li>
                </ul>
            </li>
            <li> The first step of creating Mojpal is creating the variables we'll use in <span class="rose">assembly/index.ts</span>:
<blockquote>
<pre><code>const place1: string[]  = []
const place2: string[]  = []
const place3: string[]  = []
const place4: string[]  = []
const place5: string[]  = []
let number = 0;
for(let i = 0; i < 26; i++){
  place1.push("0");
  place2.push("0");
  place3.push("0");
  place4.push("0");
  place5.push("0");
}</code></pre>
</blockquote>   
            </li>
            <li> Next, we have to add a dictionary to check which words are real. We can do this by copying the <code>WORDS</code> array available <a href="https://raw.githubusercontent.com/andreabeatrice/IMY320-Multimedia-Trends/main/words.js" target="_blank">here</a>. When minimized, it should look something like this:
                <blockquote>
                    <code>
                        const WORDS = [·  ·  · <br/>
                        ]
                    </code>
                </blockquote>
            </li>
            <li id="isWord">
                Now we create <code>isWord(guess)</code>, which will loop through every word in <code>WORDS</code> and compare it to the given string:
<blockquote>
<pre><code>export function isWord(guess: String): boolean{
    for (let i = 0; i < WORDS.length; i++) {
      if (guess.toLowerCase() === WORDS[i]){
        return true;
      }
    }
    return false;
  }</code></pre>
</blockquote>
            </li>
        


        </ol>
    </div>
    </body>


      
</html>